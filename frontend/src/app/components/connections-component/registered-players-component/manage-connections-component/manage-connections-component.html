<section>

  <h3>Manage Connections</h3>

  <section id="discoverPlayers">

    <h4>Find Players</h4>

    <input type="text" placeholder="Search by Player's Email" #playerSearchBox>
    <button (click)="triggerLookup(playerSearchBox.value)">Search</button>

    @if (registeredPlayer) {
      <ul >

        <li>{{registeredPlayer.firstName + registeredPlayer.lastName + registeredPlayer.loginEmail }}</li>
        <button (click)="triggerSend(registeredPlayer.id)"  id="{{send}}">Send Connection Request</button>
        <button (click)="triggerBlock(registeredPlayer.id)"  id="{{block}}">Block Player</button>

      </ul>
    }
  </section>

  <section id="sentRequests">

    <h4>Sent Requests</h4>

    @if (sentRequests) {
      <ul >

        @for(sentRequest  of sentRequests; track sentRequest.id) {
          <li>{{sentRequest.recipientFirstName + sentRequest.recipientLastName + sentRequest.recipientEmail }}</li>
          <button (click)="triggerCancel(sentRequest.id)"  id="{cancel}}">Cancel Request</button>
        }

      </ul>
    }

  </section>

  <section id="pendingRequests">
    <h4>Pending Requests</h4>

    @if (pendingRequests) {
      <ul >

        <li>{{registeredPlayer.firstName + registeredPlayer.lastName + registeredPlayer.loginEmail }}</li>
        <button (click)="triggerAccept(connectionRequest.id)"  id="{{accept}}">Send Connection Request</button>


      </ul>
    }
  </section>

</section>
